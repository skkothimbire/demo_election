<!DOCTYPE html>
<html lang="mr">


<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>डमी मतदान यंत्र</title>
    <link rel="stylesheet" href="vpn.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Noto Sans Devanagari", Arial, sans-serif;
            background: #f9f9f9;
            color: #000;
        }

        .header {
            background: #e6f0ff;
            border-bottom: 1px solid #0057b7;
            text-align: center;
            padding: 4px 4px 4px 4px;
        }

        .header-banner {
            display: block;
            width: 100%;
            max-width: 1500px;
            height: 100%;
            min-height: 150px;
            margin: 4 auto 16px;
            border-radius: 10px;
            box-shadow: 0 8px 24px rgba(48, 48, 48, 0.13);
            object-fit: cover;
            background: #dbeafe;
        }

        .notice {
            text-align: center;
            background: #0057b7;
            color: #fff;
            font-size: 1.05rem;
            padding: 10px 8px;
            margin: 0;
            font-weight: bold;
            letter-spacing: 1px;
            border-radius: 8px;
            margin: 4px;
        }

        table {
            width: 97vw;
            max-width: 1050px;
            border-collapse: collapse;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 0 8px rgba(0, 0, 0, 0.07);
            font-size: 1.08rem;
            margin: 4px auto;
        }

        th,
        td {
            border: 1px solid #b3d1ff;
            text-align: center;
            padding: 9px 3px;
            vertical-align: middle;
        }

        th {
            background: #0057b7;
            color: #fff;
            font-size: 1.08rem;
        }

        .candidate-inline,
        .symbol-inline {
            display: flex;
            align-items: center;
            gap: 9px;
            justify-content: center;
            flex-wrap: nowrap;
        }

        .candidate-photo {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            object-fit: cover;
            border: 1px solid #e6e6e6;
            background: #f3f3f3;
        }

        .candidate-name {
            font-size: 1.05rem;
            font-weight: 600;
            color: #222;
            white-space: nowrap;
        }

        .symbol {
            width: 38px;
            height: 38px;
            object-fit: contain;
        }

        .symbol-name {
            font-size: 1.05rem;
            font-weight: 600;
            color: #222;
            white-space: nowrap;
        }

        .vote-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 40px;
            width: 90px;
            margin: 0 auto;
            font-family: inherit;
            font-size: 1.1rem;
            font-weight: 600;
            color: #fff;
            background: linear-gradient(135deg, #2365d6);
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: background 0.25s, box-shadow 0.25s;
            box-shadow: 0 2px 8px rgba(35, 101, 214, 0.11);
            letter-spacing: 1px;
            outline: none;
        }

        .vote-btn:hover {
            background: linear-gradient(135deg, #2365d6);
            box-shadow: 0 4px 16px rgba(35, 101, 214, 0.16);
        }

        td:empty .vote-btn {
            background: #e6e6e6;
            color: #bbb;
            cursor: default;
            box-shadow: none;
        }

        /* Card Modal Styles */
        .result-modal {
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(50, 80, 180, 0.11);
        }

.result-modal.active {
  display: flex;
}
.result-card-new {
  background: #fff;
  border-radius: 18px;
  width: 95vw;
  max-width: 420px;
  margin: 15px auto;
  box-shadow: 0 12px 36px rgba(33,64,152, .13), 0 2px 4px #bedcff33;
  text-align: center;
  overflow: visible;
  position: relative;
}
.result-card-header {
  background: linear-gradient(90deg, #1876ea 65%, #25d9e1 105%);
  height: 70px;
  border-top-left-radius: 18px;
  border-top-right-radius: 18px;
  position: relative;
}
.result-card-photo-wrap {
  display: flex;
  justify-content: center;
  align-items: center;
  position: absolute;
  left: 0; right: 0;
  top: 14px;
  z-index: 2;
}
.result-card-photo {
  width: 84px;
  height: 84px;
  border-radius: 50%;
  border: 5px solid #fff;
  box-shadow: 0 5px 20px #1474ff11;
  background: #fff;
  margin: 0 auto;
  object-fit: cover;
}
.close-x {
  position: absolute;
  right: 12px;
  top: 11px;
  font-size: 1.63rem;
  background: #fff;
  color: #246ee6;
  border-radius: 50%;
  width: 34px;
  height: 34px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  cursor: pointer;
  box-shadow: 0 2px 8px #246ee658;
  z-index: 3;
  transition: background .2s;
}
.close-x:hover { background: #f2eafa; color: #e92a2a; }

.result-card-content-center {
  margin-top: 44px;
  padding: 0 16px 0 16px;
}
.result-card-title {
  font-size: 1.16rem;
  font-weight: bold;
  color: #2365d6;
  margin-bottom: 1px;
  margin-top: 15px;
}
.result-card-subtitle {
  font-size: 0.97rem;
  color: #1d2530;
  margin-bottom: 3px;
}
.result-card-id {
  color: #2472e6;
  font-size: 1.02rem;
  margin-bottom: 5px;
}
.result-card-tick-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  margin: 13px 0 7px 0;
}
.green-bold-text {
  font-weight: 600;
  color: #23bb55;
  font-size: 1rem;
}
.result-card-desc {
  font-size: 1.08rem;
  margin: 2px 0 14px 0;
  color: #1e2d59;
  font-weight: 600;
}


        @keyframes popFadeIn {
            0% {
                transform: scale(0.92);
                opacity: 0;
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }


        .share-btn-modal {
            background: linear-gradient(90deg, #23bb55, #44cc82);
            color: #fff;
            border: none;
            border-radius: 9px;
            padding: 12px 0;
            width: 90%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.15rem;
            font-weight: 600;
            cursor: pointer;
            margin: 20px auto 16px auto;
            box-shadow: 0 2px 14px rgba(34, 200, 104, 0.13);
            transition: background 0.19s;
            letter-spacing: 0.9px;
        }

        .share-btn-modal:hover {
            background: linear-gradient(90deg, #14aa48, #39d170);
        }

        .whatsapp-icon {
            margin-left: 8px;
            font-size: 1.32em;
            vertical-align: middle;
        }

        @media (max-width: 600px) {
            .notice {
                font-size: 0.97rem;
                padding: 4px 1px;
            }

            table {
                font-size: 0.95rem;
                width: 99vw;
            }

            .candidate-photo,
            .symbol {
                width: 30px;
                height: 30px;
            }

            .candidate-inline,
            .symbol-inline {
                gap: 6px;
            }

            .candidate-name,
            .symbol-name {
                font-size: 0.93rem;
            }

            th,
            td {
                font-size: 0.91rem;
                padding: 4px 2px;
            }

            .vote-btn {
                height: 36px;
                width: 80px;
                font-size: 0.97rem;
            }

            .result-card {
                max-width: 98vw;
            }
        }

        .vote-status-circle {
            display: inline-block;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #e53935;
            box-shadow: 0 2px 8px #e5393522;
            border: 2px solid #fff;
            transition: background 0.3s;
        }
        .vote-status-circle.voted {
            background: #43a047;
        }
        
    </style>
</head>

<body>

    <audio id="voteSound" src="demo_audio.mpeg"></audio>
    <header class="header">
        <div class="header-content">
            <img src="banner.jpg" alt="डमी मतदान यंत्र बॅनर" class="header-banner">
        </div>
    </header>
    <main>
        <p class="notice">
            मतदान दिनांक ०२ डिसेंबर २०२५ स.०७:०० ते सायं.०६:००
        </p>
        <table>
            <thead>
                <tr>
                    <th>अ.क्र</th>
                    <th>उमेदवाराचे नाव</th>
                    <th>निवडणूक चिन्ह</th>
                    <th>बटन</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1.</td>
                    <td>
                        <div class="candidate-inline">
                            <img src="image.png" class="candidate-photo" alt="उमेदवाराचा फोटो" />
                            <span class="candidate-name">युवराज श्रीराम भोसले</span>
                        </div>
                    </td>
                    <td>
                        <div class="symbol-inline">
                            <img class="symbol" src="image_football.png" alt="फुटबॉल चिन्ह" />
                        </div>
                    </td>
                    <td style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span class="vote-status-circle" id="vote-circle-1"></span>
                        <button class="vote-btn" id="vote-btn-1">बटन</button>
                    </td>
                </tr>

                <tr>
                    <td>2.</td>
                    <td></td>
                    <td></td>
                    <td style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span class="vote-status-circle" id="vote-circle-2"></span>
                        <button class="vote-btn" id="vote-btn-2"></button>
                    </td>
                </tr>

                <tr>
                    <td>3.</td>
                    <td></td>
                    <td></td>
                    <td style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span class="vote-status-circle" id="vote-circle-3"></span>
                        <button class="vote-btn" id="vote-btn-3"></button>
                    </td>
                </tr>

                <tr>
                    <td>4.</td>
                    <td></td>
                    <td></td>
                    <td style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span class="vote-status-circle" id="vote-circle-4"></span>
                        <button class="vote-btn" id="vote-btn-4"></button>
                    </td>
                </tr>

                <tr>
                    <td>5.</td>
                    <td></td>
                    <td></td>
                    <td style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span class="vote-status-circle" id="vote-circle-5"></span>
                        <button class="vote-btn" id="vote-btn-5"></button>
                    </td>
                </tr>

                <tr>
                    <td>6.</td>
                    <td></td>
                    <td></td>
                    <td style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span class="vote-status-circle" id="vote-circle-6"></span>
                        <button class="vote-btn" id="vote-btn-6"></button>
                    </td>
                </tr>

                <tr>
                    <td>7.</td>
                    <td></td>
                    <td></td>
                    <td style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span class="vote-status-circle" id="vote-circle-7"></span>
                        <button class="vote-btn" id="vote-btn-7"></button>
                    </td>
                </tr>

                <tr>
                    <td>8.</td>
                    <td></td>
                    <td></td>
                    <td style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span class="vote-status-circle" id="vote-circle-8"></span>
                        <button class="vote-btn" id="vote-btn-8"></button>
                    </td>
                </tr>

                <tr>
                    <td>9.</td>
                    <td></td>
                    <td></td>
                    <td style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span class="vote-status-circle" id="vote-circle-9"></span>
                        <button class="vote-btn" id="vote-btn-9"></button>
                    </td>
                </tr>

                <tr>
                    <td>10.</td>
                    <td></td>
                    <td></td>
                    <td style="display: flex; align-items: center; justify-content: center; gap: 10px;">
                        <span class="vote-status-circle" id="vote-circle-10"></span>
                        <button class="vote-btn" id="vote-btn-10"></button>
                    </td>
                </tr>
            </tbody>
        </table>
    </main>

    <!-- New modal card style class -->
    <div class="result-modal" id="resultModal">
  <div class="result-card-new"> <!-- New modal card style class -->
    <div class="result-card-header">
      <div class="result-card-photo-wrap">
        <img src="image.png" alt="फोटो" class="result-card-photo" />
      </div>
      <button class="close-x" onclick="closeResultCard()">×</button>
    </div>
    <div class="result-card-content-center">
      <div class="result-card-title">युवराज श्रीराम भोसले</div>
      <div class="result-card-subtitle">चिन्ह : फुटबॉल</div>
      <div class="result-card-id">क्रमांक : <b style="color:#2472e6;">1</b></div>
      <div class="result-card-tick-row">
        <svg viewBox="0 0 20 20" width="27" height="27">
          <circle cx="10" cy="10" r="10" fill="#23bb55" />
          <polyline points="6,10 9,13 14,7" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span> <span class="green-bold-text">तुमचे मत नोंदवले गेले आहे.</span> </span>
      </div>
      <div class="result-card-desc">
        <b>आपण युवराज श्रीराम भोसले यांना मत दिले आहे.</b>
      </div>
      <button class="share-btn-modal" onclick="shareWhatsApp()">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg"
             class="whatsapp-logo-img"
             alt="WhatsApp"
             width="24"
             height="24"
             style="vertical-align:middle;margin-right:7px;">
        <span>शेअर करा</span>
      </button>
    </div>
  </div>
</div>

    <div
        style="
            display: flex;
            flex-direction: column;
            align-items: center;
        "
    >
        <div
            id="voteCounterCard"
            style="
                background: #22c55e;
                border-radius: 15px;
                padding: 15px 45px 15px 45px;
                display: inline-flex;
                flex-direction: column;
                align-items: center;
                box-shadow: 0 4px 16px #22c55e19;
                margin: 10px auto 10px auto;
                min-width: 100px;
            "
        >
            <div style="display: flex; align-items: center; gap: 7px">
                <svg
                    width="22"
                    height="22"
                    viewBox="0 0 20 20"
                    style="background: white; border-radius: 50%"
                >
                    <circle cx="10" cy="10" r="9" fill="#fff" />
                    <polyline
                        points="7,10 10,13 14,7"
                        fill="none"
                        stroke="#22c55e"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                </svg>
                <span
                    style="color: #fff; font-size: 1.12rem; font-weight: 700"
                    >एकूण मत</span
                >
            </div>
            <div
                id="voteCount"
                style="
                    color: #fff;
                    font-size: 2.15rem;
                    font-weight: 800;
                    margin-top: 6px;
                    line-height: 1;
                    text-shadow: 0 1px 0 #1f8f4c33;
                "
            >
                0
            </div>
        </div>
<div style="
    width: 100vw;
    background: #f5f5f5;
    border-top: 1px solid #ccc;
    padding: 16px 0 8px 0;
    text-align: center;
    font-family: inherit;
">
    <div style="display: flex; justify-content: center; align-items: center; gap: 18px; margin-bottom: 8px;">
        <img src="vegaah.png" alt="Vegaah Media" style="height: 38px;"/>
        <img src="deployx.png" alt="Rukavad Press" style="height: 38px;"/>
    </div>
    <div style="color: #222; font-size: 1em; margin-top: 6px;">
    Developed by 
    <a 
        href="https://deployx.io" 
        target="_blank" 
        rel="noopener" 
        style="
            color: #3366cc; 
            text-decoration: underline;
            font-weight: bold;
            cursor: pointer;
        "
    >
        deployX
    </a>
</div>

</div>



    </div>

 <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";
    import {
      getDatabase,
      ref,
      get,
      set,
      onValue,
    } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";

    // Firebase config (use your own)
    const firebaseConfig = {
      apiKey: "AIzaSyAnItl2ZF2-DziIzY9ueimQWTcGkswUzT0",
      authDomain: "demoelection-a03e8.firebaseapp.com",
      projectId: "demoelection-a03e8",
      databaseURL: "https://demoelection-a03e8-default-rtdb.asia-southeast1.firebasedatabase.app/",
      storageBucket: "demoelection-a03e8.firebasestorage.app",
      messagingSenderId: "611796330216",
      appId: "1:611796330216:web:9001d55d9701c05a45cb5d",
      measurementId: "G-K1SRE2QSDV",
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const db = getDatabase(app);
    const voteCountRef = ref(db, "voteCount");

    window.addEventListener("DOMContentLoaded", () => {
      const voteCountSpan = document.getElementById("voteCount");

      onValue(voteCountRef, (snapshot) => {
        const count = snapshot.val() || 0;
        if (voteCountSpan) voteCountSpan.textContent = count.toString();
      });

      async function incrementVoteCount() {
        const snapshot = await get(voteCountRef);
        const currentCount = snapshot.val() || 0;
        await set(voteCountRef, currentCount + 1);
      }

      for (let i = 1; i <= 10; i++) {
        const btn = document.getElementById(`vote-btn-${i}`);
        const circle = document.getElementById(`vote-circle-${i}`);
        if (!btn || !circle) continue;

        btn.addEventListener("click", async () => {

            console.log('Button ' + i + ' clicked');
          btn.disabled = true;
          circle.classList.add("voted");
          await incrementVoteCount();

          if (i === 1) {
            const audio = document.getElementById("voteSound");
            if (audio) {
              try {
                audio.currentTime = 0;
                await audio.play();
              } catch (error) {
                // Handle autoplay block silently
              }
            }

            setTimeout(() => {
              window.showResultCard();
            }, 1200);
          }
        });
      }
    });

    window.showResultCard = function () {
      const modal = document.getElementById("resultModal");
      if (modal) {
        modal.classList.add("active");
      }
    };

    window.closeResultCard = function () {
      const modal = document.getElementById("resultModal");
      if (modal) {
        modal.classList.remove("active");
      }
    };
  </script>

    <script>
        function shareWhatsApp() {
    var msg = encodeURIComponent(
        "मी डेमो ईव्हीएमवर मतदान केले, तुम्हीही या लिंकवर डेमो मतदान करा! https://demoelection.deployx.io/"
    );
    var url = "https://wa.me/?text=" + msg;
    window.open(url, "_blank");
}

        document.addEventListener("DOMContentLoaded", function () {
            var modal = document.getElementById("resultModal");
            if (modal) {
                modal.addEventListener("click", function (e) {
                    if (e.target === this) closeResultCard();
                });
            }
        });
    </script>
</body>
</html>
